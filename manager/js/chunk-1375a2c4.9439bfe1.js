(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1375a2c4"],{1175:function(t,n,e){},2241:function(t,n,e){"use strict";var i=e("c31d"),o=e("2b0e"),a=e("2638"),s=e.n(a),r=e("d282"),c=e("a142"),l=e("ea8e"),u=e("b1d2"),h=e("6605"),d=e("b650");function f(t){var n=[];function e(t){t.forEach((function(t){n.push(t),t.componentInstance&&e(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&e(t.children)}))}return e(t),n}function m(t,n){var e=n.$vnode.componentOptions;if(e&&e.children){var i=f(e.children);t.sort((function(t,n){return i.indexOf(t.$vnode)-i.indexOf(n.$vnode)}))}}function p(t,n){var e,i;void 0===n&&(n={});var o=n.indexKey||"index";return{inject:(e={},e[t]={default:null},e),computed:(i={parent:function(){return this.disableBindRelation?null:this[t]}},i[o]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},i),watch:{disableBindRelation:function(t){t||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(n){return n!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);m(t,this.parent),this.parent.children=t}}}}}function v(t){return{provide:function(){var n;return n={},n[t]=this,n},data:function(){return{children:[]}}}}var g,b=Object(r["a"])("goods-action"),y=b[0],w=b[1],C=y({mixins:[v("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:w({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),B=e("48f4"),x=Object(r["a"])("goods-action-button"),O=x[0],$=x[1],T=O({mixins:[p("vanGoodsAction")],props:Object(i["a"])({},B["c"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),Object(B["b"])(this.$router,this)}},render:function(){var t=arguments[0];return t(d["a"],{class:$([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),k=Object(r["a"])("dialog"),A=k[0],S=k[1],j=k[2],K=A({mixins:[Object(h["a"])()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var n=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(e){!1!==e&&n.loading[t]&&n.onClose(t),n.loading.confirm=!1,n.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){var t=this;this.$emit("opened"),this.$nextTick((function(){var n;null==(n=t.$refs.dialog)||n.focus()}))},onClosed:function(){this.$emit("closed")},onKeydown:function(t){var n=this;if("Escape"===t.key||"Enter"===t.key){if(t.target!==this.$refs.dialog)return;var e={Enter:this.showConfirmButton?function(){return n.handleAction("confirm")}:c["h"],Escape:this.showCancelButton?function(){return n.handleAction("cancel")}:c["h"]};e[t.key](),this.$emit("keydown",t)}},genRoundButtons:function(){var t=this,n=this.$createElement;return n(C,{class:S("footer")},[this.showCancelButton&&n(T,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||j("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:S("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&n(T,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||j("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:S("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,n=this,e=this.$createElement,i=this.showCancelButton&&this.showConfirmButton;return e("div",{class:[u["c"],S("footer")]},[this.showCancelButton&&e(d["a"],{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||j("cancel"),nativeType:"button"},class:S("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){n.handleAction("cancel")}}}),this.showConfirmButton&&e(d["a"],{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||j("confirm"),nativeType:"button"},class:[S("confirm"),(t={},t[u["a"]]=i,t)],style:{color:this.confirmButtonColor},on:{click:function(){n.handleAction("confirm")}}})])},genContent:function(t,n){var e=this.$createElement;if(n)return e("div",{class:S("content")},[n]);var i=this.message,o=this.messageAlign;if(i){var a,r,c={class:S("message",(a={"has-title":t},a[o]=o,a)),domProps:(r={},r[this.allowHtml?"innerHTML":"textContent"]=i,r)};return e("div",{class:S("content",{isolated:!t})},[e("div",s()([{},c]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var n=this.message,e=this.slots(),i=this.slots("title")||this.title,o=i&&t("div",{class:S("header",{isolated:!n&&!e})},[i]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||n,tabIndex:0},class:[S([this.theme]),this.className],style:{width:Object(l["a"])(this.width)},ref:"dialog",on:{keydown:this.onKeydown}},[o,this.genContent(i,e),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}});function _(t){return document.body.contains(t)}function E(){g&&g.$destroy(),g=new(o["a"].extend(K))({el:document.createElement("div"),propsData:{lazyRender:!1}}),g.$on("input",(function(t){g.value=t}))}function R(t){return c["g"]?Promise.resolve():new Promise((function(n,e){g&&_(g.$el)||E(),Object(i["a"])(g,R.currentOptions,t,{resolve:n,reject:e})}))}R.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){g["confirm"===t?"resolve":"reject"](t)}},R.alert=R,R.confirm=function(t){return R(Object(i["a"])({showCancelButton:!0},t))},R.close=function(){g&&(g.value=!1)},R.setDefaultOptions=function(t){Object(i["a"])(R.currentOptions,t)},R.resetDefaultOptions=function(){R.currentOptions=Object(i["a"])({},R.defaultOptions)},R.resetDefaultOptions(),R.install=function(){o["a"].use(K)},R.Component=K,o["a"].prototype.$dialog=R;n["a"]=R},"2fcb":function(t,n,e){},"4cf9":function(t,n,e){},"8c57":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t._self._c;t._self._setupProxy;return n("div",{staticClass:"ido-sign"},[n("div",{staticClass:"box"},[n("span",[t._v("认购数量(最小100，最大2000)")]),n("div",{staticClass:"input-container input-append"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number"},domProps:{value:t.amount},on:{input:function(n){n.target.composing||(t.amount=n.target.value)}}}),n("span",[t._v("USDT")])]),n("span",[t._v("私钥")]),n("div",{staticClass:"input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.privateKey,expression:"privateKey"}],attrs:{type:"text"},domProps:{value:t.privateKey},on:{input:function(n){n.target.composing||(t.privateKey=n.target.value)}}})]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.rawTransaction,expression:"rawTransaction"}]},[t._v("签名结果(点击复制)")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.rawTransaction,expression:"rawTransaction"}],staticClass:"rawTransaction",on:{click:t.doCopy}},[t._v(t._s(t.rawTransaction))]),n("van-button",{attrs:{loading:t.isLoading,"loading-text":"签名中..."},on:{click:t.confirm}},[t._v("签名")])],1)])},o=[],a=(e("e17f"),e("2241")),s=(e("e7e5"),e("d399")),r=(e("66b9"),e("b650")),c=e("2351");function l(t){const n=t.trim();return/^(0x|0X)?[0-9a-fA-F]{64}$/.test(n)}var u={components:{[r["a"].name]:r["a"]},data(){return{amount:"",privateKey:"",rawTransaction:!1,isLoading:!1}},methods:{doCopy(){this.$copyText(this.rawTransaction).then(t=>{s["a"].success("已复制")},t=>{s["a"].fail("无法复制")})},confirm(){return 0===this.amount.length?s["a"].fail("请输入认购数量"):0===this.privateKey.length?s["a"].fail("请输入私钥"):this.amount<100?s["a"].fail("认购数量不能小于100"):this.amount>2e3?s["a"].fail("认购数量不能大于2000"):l(this.privateKey)?void a["a"].confirm({message:"签名成功后若使用此私钥交易将会导致签名失效，若必须交易，请交易后重新签名"}).then(()=>{this.signTransaction()}).catch(()=>{}):s["a"].fail("请输入正确的私钥")},async signTransaction(){this.isLoading=!0;const t=new this.$web3.eth.Contract(c.abi,c.address),n=t.methods.subscribe(this.amount.toWei()).encodeABI();try{const t=this.$web3.eth.accounts.privateKeyToAccount(this.privateKey),e=await t.signTransaction({data:n,gas:21276,to:c.address});this.rawTransaction=e.rawTransaction}catch(e){console.error(e),s["a"].fail("签名失败")}this.isLoading=!1}}},h=u,d=h,f=(e("90d9"),e("2877")),m=Object(f["a"])(d,i,o,!1,null,"f3415946",null);n["default"]=m.exports},"90d9":function(t,n,e){"use strict";e("d920")},d920:function(t,n,e){},e17f:function(t,n,e){"use strict";e("68ef"),e("a71a"),e("9d70"),e("3743"),e("4d75"),e("e3b3"),e("bc1b"),e("1175"),e("4cf9"),e("2fcb")}}]);